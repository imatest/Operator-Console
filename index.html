<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Operator Console: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Operator Console
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="d4/d21/seq_diagrams.html"><span>Sequence&#160;diagrams</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="da/d1b/usage.html"><span>Program&#160;usage</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#secArch">System architecture, or our cast of characters</a><ul><li class="level2"><a href="#subsecExtThread">External thread objects</a></li>
<li class="level2"><a href="#subsecImageTestClass">Image-testing classes</a></li>
<li class="level2"><a href="#subsecDataStruct">Data structures/classes</a></li>
<li class="level2"><a href="#subsecExtDialog">External dialogs</a></li>
<li class="level2"><a href="#subsecAcqClasses">Acquisition classes</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>The Operator Console is meant to provide a basic, yet customizable, interface to Imatest IT that provides some of the functionality needed for a production environment. This interface allows the user to perform Blemish or SFRplus tests while capturing from any of the devices supported by the Imatest 3.10 library. Optionally, the developer can allow for acquisition from a device with a DirectShow driver or from a file. The results of a Blemish or SFRplus test are displayed within the Operator Console dialog with the overall pass/fail status prominently displayed. Additionally, for SFRplus, the pass/fail status of individual regions (the center and four quadrants away from the center) is overlaid on the image displayed to the user. For more information, please see the <a class="el" href="da/d1b/usage.html">Program usage</a> section.</p>
<p>Other features include</p>
<ul>
<li>A password-protected GUI for modifying the pass/fail criteria</li>
<li>A GUI for quickly changing the device from which to acquire</li>
<li>A secondary window to display the full JSON output</li>
<li>Image acquisition and image tests (e.g. SFRplus,Blemish) are run in their own thread with data transfer only through buffers controlled by critical sections</li>
</ul>
<h1><a class="anchor" id="secArch"></a>
System architecture, or our cast of characters</h1>
<p>Since every possible user need cannot be anticipated a priori, the Operator Console is designed to be readily customized by developers. The Operator Console is based around two main classes, <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a> and <a class="el" href="dd/dd1/class_c_operator_console_dlg.html" title="The class underlying the main dialog. ">COperatorConsoleDlg</a>, which control the application and main window, respectively. The <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a> object holds all relevant data and communicates with the various helper threads discussed below, while the <a class="el" href="dd/dd1/class_c_operator_console_dlg.html" title="The class underlying the main dialog. ">COperatorConsoleDlg</a> object only supplies the user interface without holding test-related data.</p>
<p>To make the user interface as customizable as possible, the <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a> and <a class="el" href="dd/dd1/class_c_operator_console_dlg.html" title="The class underlying the main dialog. ">COperatorConsoleDlg</a> communicate through a message-passing interface wherein events in the user interface are transmitted by <a class="el" href="dd/dd1/class_c_operator_console_dlg.html" title="The class underlying the main dialog. ">COperatorConsoleDlg</a> as a simple message that <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a> intercepts and performs the appropriate action. As a consequence of this degree of separation between <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a> and <a class="el" href="dd/dd1/class_c_operator_console_dlg.html" title="The class underlying the main dialog. ">COperatorConsoleDlg</a>, the developer can completely change the interface without having to modify the code underlying the application.</p>
<div class="image">
<img src="program_architecture_full.svg" />
</div>
<p>Several classes are associated with <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a>. Below is an abbreviated list of the more critical classes with brief descriptions.</p>
<h2><a class="anchor" id="subsecExtThread"></a>
External thread objects</h2>
<ul>
<li>The <a class="el" href="d7/da0/class_thread_control.html" title="Thread synchronization and communication class. ">ThreadControl</a> class is used to control threads that run various operations for <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a>, including one thread to acquire images from a camera, another to perform a Blemish test and parse the JSON results to determine the pass/fail status of the required metrics, and a third thread to perform a SFRplus test and determine pass/fail status.</li>
<li>The <a class="el" href="db/da2/class_modeless_dialog_thread.html" title="a thread class for creating modeless dialogs which can operate without halting the main dialog ...">ModelessDialogThread</a> class is used for controlling and creating a modeless dialog window (e.g. the one accessed from the 'Show JSON' button) that runs without halting the main application</li>
<li><a class="el" href="d5/d67/class_stdout_thread.html" title="Defines a thread class for capturing stdout. ">StdoutThread</a> and <a class="el" href="df/d44/class_stderr_thread.html" title="Defines a thread class for capturing stderr. ">StderrThread</a> classes, which are both derived from the base class <a class="el" href="d5/d52/class_stdout_redirect.html" title="Defines functions for redirecting stdout through a buffered pipe. ">StdoutRedirect</a>, operate in separate threads to redirect stdout(and cout) and stderr(and cerr) to a field in the main window.</li>
</ul>
<h2><a class="anchor" id="subsecImageTestClass"></a>
Image-testing classes</h2>
<ul>
<li><a class="el" href="d8/de1/class_blemish_test.html" title="contains the details of an Blemish test to be performed including all relevant fields for determining...">BlemishTest</a> and <a class="el" href="dd/d12/class_s_f_rplus_test.html" title="contains the details of an sfrPlus test to be performed including all relevant fields for determining...">SFRplusTest</a> (which both are derived from the base class <a class="el" href="da/d92/class_image_test.html" title="An abstract class that defines an image test to be performed. ">ImageTest</a>) contain the necessary data and functions to perform Blemish and SFRplus tests, respectively, on an image and parse the results to determine pass/fail for various criteria. Note that the pointer to the function responsible for the test and results parse (<a class="el" href="da/d92/class_image_test.html#a372478d09c06cd7ab3684840add6215e" title="param must be a pointer to a ThreadControl object; param-&gt;m_data must point to an ImageTest object ...">ImageTest::ThreadProc</a>) is passed to the corresponding <a class="el" href="d7/da0/class_thread_control.html" title="Thread synchronization and communication class. ">ThreadControl</a> object as part of the initialization of the <a class="el" href="d7/da0/class_thread_control.html" title="Thread synchronization and communication class. ">ThreadControl</a> (e.g. blemish.ThreadProc is passed to m_blemishControl in <a class="el" href="d3/d9f/class_c_operator_console_app.html#a51ad7e6e8f370072c3e89d0d7e9e41a8">COperatorConsoleApp::InitBlemishThread()</a>).</li>
</ul>
<h2><a class="anchor" id="subsecDataStruct"></a>
Data structures/classes</h2>
<ul>
<li><a class="el" href="da/de6/_operator_console_8h.html#d0/dbd/struct_test_results" title="A struct for holding all results (including JSON) of a test. ">TestResults</a> is a struct that <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a> places all results of a test</li>
<li><a class="el" href="da/de6/_operator_console_8h.html#d5/d05/struct_app_flags" title="A struct for holding the various flags used throughout the application. ">AppFlags</a> is used by <a class="el" href="d3/d9f/class_c_operator_console_app.html" title="The main class for the Operator Console Application. ">COperatorConsoleApp</a> to contain the boolean flags resulting from various operations</li>
<li><a class="el" href="dd/de1/structsetup__settings.html" title="A struct that contains the various data controlled by the setup dialog. ">setup_settings</a> contains the all the setup details for the camera (e.g. width and height in pixels) as well the lists of strings needed to fill the various combo-boxes and lists in the <a class="el" href="da/d8d/class_c_setup.html" title="The class underlying the setup dialog. ">CSetup</a> dialog window class.</li>
<li><a class="el" href="dd/d34/class_config.html" title="A class that contains a few configuration details. ">Config</a> contains various configuration details for the program</li>
<li><a class="el" href="d9/d8f/class_c_pass_fail_settings.html" title="A class to contain the pass/fail criteria including the descriptions of each pass/fail variable...">CPassFailSettings</a> contains all of the data needed to create the pass/fail settings window</li>
</ul>
<h2><a class="anchor" id="subsecExtDialog"></a>
External dialogs</h2>
<ul>
<li><a class="el" href="da/d8d/class_c_setup.html" title="The class underlying the setup dialog. ">CSetup</a> is the class underlying the setup dialog</li>
<li><a class="el" href="d1/d44/class_c_pass_fail.html" title="The class underlying the PassFail dialog. ">CPassFail</a> is the class underlying the pass/fail dialog</li>
<li><a class="el" href="db/da2/class_modeless_dialog_thread.html" title="a thread class for creating modeless dialogs which can operate without halting the main dialog ...">ModelessDialogThread</a> is the class used for the 'Show JSON' dialog</li>
<li><a class="el" href="d9/d42/class_c_password_dialog.html" title="a class for a simple password query dialog ">CPasswordDialog</a> is the class underlying the password dialog for the pass/fail dialog</li>
</ul>
<h2><a class="anchor" id="subsecAcqClasses"></a>
Acquisition classes</h2>
<ul>
<li><a class="el" href="d8/d29/class_image_acquisition.html" title="the base class for image acquisition ">ImageAcquisition</a> is the base class from which <a class="el" href="db/def/class_file_acquisition.html" title="Another class for loading an image file that loads into the critical buffer m_frame inherited from cl...">FileAcquisition</a>, <a class="el" href="df/d22/class_imatest_lib_acq.html" title="A class for acquiring live images through the Imatest library. ">ImatestLibAcq</a>, <a class="el" href="d0/d1f/class_simple_direct_show_acq.html" title="A class for acquiring directly from a camera with a DirectShow driver. ">SimpleDirectShowAcq</a>, and <a class="el" href="dc/d78/class_file_acq.html" title="A class for acquiring from a file with the data in RGB format. ">FileAcq</a></li>
<li><a class="el" href="db/def/class_file_acquisition.html" title="Another class for loading an image file that loads into the critical buffer m_frame inherited from cl...">FileAcquisition</a> and <a class="el" href="dc/d78/class_file_acq.html" title="A class for acquiring from a file with the data in RGB format. ">FileAcq</a> are used for 'acquiring' from a file</li>
<li><a class="el" href="df/d22/class_imatest_lib_acq.html" title="A class for acquiring live images through the Imatest library. ">ImatestLibAcq</a> is used for acquisition from a camera using <a class="el" href="d6/d56/imatest__library_8cpp.html#adfea92a0e3101a2974d7fbe4b7b1c8c0">acquire_image()</a> from the Imatest library</li>
<li><a class="el" href="d0/d1f/class_simple_direct_show_acq.html" title="A class for acquiring directly from a camera with a DirectShow driver. ">SimpleDirectShowAcq</a> is used for acquisition from a DirectShow camera </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 22 2013 15:37:53 for Operator Console by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
